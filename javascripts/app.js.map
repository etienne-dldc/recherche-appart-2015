{"version":3,"sources":["app/app-exit.js","app/application.js","app/display-header.js","app/map-style.js","app/router.js","app/tools.js","app/where.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjYA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtDA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlPA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1IA;AAAA","file":"public/javascripts/app.js","sourcesContent":["var tools = require('tools');\n\n\nvar Exit = {\n\n    defaut: function (ctx, next) {\n        var App = require('application');\n        App.body.animate(\n          {\n              marginLeft: \"10em\",\n              marginRight: \"-10em\",\n              opacity: 0\n          },\n          500,\n          function() {\n              _.delay(function () {\n                  App.body.css({\n                      marginLeft: \"0\",\n                      marginRight: \"0\",\n                      opacity: 1\n                  })\n                  next();\n              }, 100);\n          }\n        );\n    },\n\n    home: function (ctx, next) {\n        $('body, html').removeClass('white-back');\n        _.delay(next , 300);\n    },\n\n    welcom: function (ctx, next) {\n        tools.hideAnimation(next);\n    },\n\n    maRecherche: function (ctx, next) {\n        tools.hideAnimation(next);\n    },\n\n    chercheAppart: function (ctx, next) {\n        tools.hideAnimation(next);\n    },\n\n    aboutMe: function (ctx, next) {\n        tools.hideAnimation(next);\n    },\n\n    where: function (ctx, next) {\n        tools.hideAnimation(next);\n    }\n\n}\n\nmodule.exports = Exit;","\"use strict\";\n\nvar tools = require('tools');\n\nvar App = {\n  body: $('#content'),\n\n  init: function init() {\n    App.vars = {\n      width: $(window).width(),\n      height: $(window).height()\n    };\n    // Set font size\n    var minFontSize = 10;\n    var maxFontSize = 35;\n    var fontSize = App.vars.width/35;\n    fontSize = fontSize < minFontSize ? minFontSize : fontSize;\n    fontSize = fontSize > maxFontSize ? maxFontSize : fontSize;\n    $('body, html').css('font-size', fontSize + \"px\");\n  },\n\n  displayPlayButton: function () {\n\n    $('body, html').addClass('white-back');\n\n    var template = require('templates/play')();\n    App.body.html(template);\n\n    var svg = d3.select(\"#play-button\")\n      .attr('width', App.vars.width + 'px')\n      .attr('height', App.vars.height + 'px')\n    \n    var rotateGroup = svg\n      .append('g')\n      .attr('transform', 'translate(50,50)')\n    \n    var path = rotateGroup.append('path')\n      .attr('fill', '#e74c3c')\n      .attr('width', '100')\n      .attr('transform', 'translate(-26,-32)')\n      .attr(\"d\", \"M16 48 C16 32 16 32 16 16 C32 24 32 24 48 32 C32 40 32 40 16 48 Z\");\n\n    path.on(\"mouseover\", function() {\n      path\n        .transition()\n        .ease('cubic')\n        .attr(\"d\", \"M16 48 C10 42 10 22 16 16 C22 10 48 22 48 32 C48 42 22 54 16 48 Z\")\n    });\n\n    path.on(\"mouseleave\", function () {\n      path\n        .transition()\n        .ease('cubic')\n        .attr(\"d\", \"M16 48 C16 32 16 32 16 16 C32 24 32 24 48 32 C32 40 32 40 16 48 Z\")\n    });\n\n    path.on(\"click\", function () {\n      path\n        .transition()\n        .ease('linear')\n        .attr(\"d\", \"M16 48 C8 40 8 24 16 16 C24 8 48 12 48 32 C48 52 24 56 16 48 Z\")\n\n      rotateGroup\n        .transition()\n        .ease('cubic')\n        .duration(500)\n        .attr('transform', 'translate(50,50) scale(10)')\n\n      _.delay(function () {\n        App.router('/welcom');\n      }, 500);\n\n    });\n  },\n\n  welcom: function () {\n\n    App.body.html('');\n    var template = require('templates/welcom')();\n    App.body.html(template);\n\n    function afterWrite() {\n      $('.typed-cursor').remove();\n      tools.showAndScroll('.answer');\n    };\n\n    $(\".hello\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".hello span\").css({opacity: '0'})\n        .html(\"Salut,<br/> je m'appelle Etienne, j'ai 20 ans<br/> et je cherche une colocation à <b>Paris</b>.\")\n        .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".hello span\").typed({\n        strings: [\"Salut,<br/> ^500 je m'appelle Etienne, ^500j'ai 20 ans<br/> ^500et je cherche une colocation à <b>Paris</b>.\"],\n        typeSpeed: 0.1,\n        callback: afterWrite,\n      });\n    }\n  },\n\n  maRecherche: function () {\n    \n    App.body.html('');\n    var template = require('templates/ma-recherche')();\n    App.body.html(template);\n\n    function afterWrite() {\n      $('.typed-cursor').remove();\n      tools.showAndScroll('.answer');\n    };\n\n    $(\".question\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".question span\").css({opacity: '0'})\n          .html(\"Que veux-tu savoir ?\")\n          .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".question span\").typed({\n        strings: [\"Que veux-tu savoir ?\"],\n        typeSpeed: 0.1,\n        callback: afterWrite,\n      });\n    }\n  },\n\n  chercheAppart: function () {\n    \n    App.body.html('');\n    var template = require('templates/cherche-appart')();\n    App.body.html(template);\n\n    function afterWrite() {\n      $('.typed-cursor').remove();\n      tools.showAndScroll('.answer');\n    };\n\n    $(\".question\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".question span\").css({opacity: '0'})\n          .html(\"Bienvenue au club... <br/> On pourrai s'entraider tu ne pense pas ?\")\n          .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".question span\").typed({\n        strings: [\"Bienvenue au club... <br/> ^500 On pourrai s'entraider tu ne pense pas ?\"],\n        typeSpeed: 0.1,\n        callback: afterWrite,\n      });\n    }\n  },\n\n  partage: function () {\n\n    App.body.html('');\n    var template = require('templates/partage')();\n    App.body.html(template);\n\n    function afterWrite() {\n      $('.typed-cursor').remove();\n\n      _.delay(function(){ $('.partage-tw').css('transform', 'translateY(0)').css('opacity', '1'); }, 400);\n      _.delay(function(){ $('.partage-fb').css('transform', 'translateY(0)').css('opacity', '1'); }, 500);\n      $('.partage').click(function(event) {\n        $(\".merci\").append('<span></span>');\n        $(\".merci span\").typed({\n          strings: [\"Merci :)\"],\n          typeSpeed: 0,\n          callback: function () {\n            $('.typed-cursor').remove();\n          }\n        });\n      });\n    };\n\n    $(\".help-me\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".help-me span\").css({opacity: '0'})\n          .html(\"Pour m'aider, rien de plus simple<br/> il suffit de partager ce site avec tes amis, <br/> je t'en serai grandement reconnaissant !\")\n          .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".help-me span\").typed({\n        strings: [\"Pour m'aider, rien de plus simple<br/> ^500il suffit de partager ce site avec tes amis, <br/> je t'en serai grandement reconnaissant !\"],\n        typeSpeed: 0,\n        callback: afterWrite,\n      });\n    }\n  },\n\n  contact: function () {\n\n    App.body.html('');\n    var template = require('templates/contact')();\n    App.body.html(template);\n\n    tools.showAndScroll('.form-elem');\n\n    $('form').submit(function(event) {\n      event.preventDefault();\n\n      var data = $(this).serializeArray();\n      var dataObj = {};\n      _.each(data, function(element, index, list){ dataObj[element.name] = element.value; });\n      console.log(\"dataObj:\", dataObj);\n      var settings = {\n        async: true,\n        crossDomain: true,\n        url: \"http://localhost:8080/send-mail\",\n        method: \"POST\",\n        data: dataObj\n      }\n\n      $.ajax(settings).done(function (response) {\n        console.log(\"response:\", response);\n\n        if (response.success) {\n          $('form').animate({\n            opacity: 0,\n            marginTop: '-10em'},\n            500, function() {\n              $('form').css('display', 'none');\n              var successElem = $('<p class=\"success\"><span></span></p>');\n              $('.contact').append(successElem);\n              successElem.find('span').typed({\n                strings: [\"Ton message à été envoyé :) <br /> ^500 Je te répond bientot, promis.\"],\n                typeSpeed: 0,\n                callback: function () {\n                  $('.typed-cursor').remove();\n                }\n              });\n          });\n        } else {\n          if (response.notValid) {\n            $('.error.nom').css(\"height\", \"0em\");\n            $('.error.mail').css(\"height\", \"0em\");\n            $('.error.message').css(\"height\", \"0em\");\n            for (var i = response.errors.length - 1; i >= 0; i--) {\n              var error = response.errors[i];\n              console.log(\"error:\", error);\n\n              if (error[0] == \"nom\") {\n                $('.error.nom p').html(error[1]);\n                $('.error.nom').css(\"height\", \"2em\");\n              }\n\n              if (error[0] == \"mail\") {\n                $('.error.mail p').html(error[1]);\n                $('.error.mail').css(\"height\", \"2em\");\n              }\n\n              if (error[0] == \"message\") {\n                $('.error.message p').html(error[1]);\n                $('.error.message').css(\"height\", \"2em\");\n              }\n            };\n          } else {\n            var oopsElem = $('<p class=\"oops\"><span></span></p>');\n            $('.contact').append(oopsElem);\n            oopsElem.find('span').typed({\n              strings: [\"Oops, une erreu s'est produit :/\"],\n              typeSpeed: 0,\n              callback: function () {\n                $('.typed-cursor').remove();\n                _.delay(function () {\n                  oopsElem.slideUp();\n                }, 3000);\n              }\n            });\n          }\n        }\n      });\n    });\n\n  },\n\n  aboutMe: function () {\n    \n    App.body.html('');\n    var template = require('templates/about-me')();\n    App.body.html(template);\n\n    function afterWrite() {\n      $('.typed-cursor').remove();\n      tools.showAndScroll('.answer');\n    };\n\n    $(\".write\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".write span\").css({opacity: '0'})\n          .html(\"Je viens d'optenir un DUT MMI (Métiers du Multimédia et de l'Internet) à Limoges \" +\n            \"<br />  et je serai cette année à l'<b>Ecole des Gobelins</b> à Paris \" +\n            \"<br /> pour faire un <b>Bachelor Developer et Designer Intéractif</b>.\" +\n            \"<br /> <br /> Je serai ravi de t'en dire plus sur moi mais bon... <br /> Je ne prefere pas trop étaler ma vie sur internet. \"\n          )\n          .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".write span\").typed({\n        strings: [\"Je viens d'optenir un DUT MMI (Métiers du Multimédia et de l'Internet) à Limoges \" +\n            \"<br /> ^400  et je serai cette année à l'<b>Ecole des Gobelins</b> à Paris \" +\n            \"<br /> pour faire un <b>Bachelor Developer et Designer Intéractif</b>.\" +\n            \"<br /> <br /> ^600 Je serai ravi de t'en dire plus sur moi mais bon... ^600 <br /> Je ne prefere pas trop étaler ma vie sur internet. \"\n          ],\n        typeSpeed: 0.1,\n        callback: afterWrite,\n      });\n    }\n\n  },\n\n  where: require('where'),\n\n  budget: function () {\n    \n    App.body.html('');\n    var template = require('templates/budget')();\n    App.body.html(template);\n\n    function afterWrite () {\n      $('.typed-cursor').remove();\n\n      var $elem = $('.budget-val');\n      $elem.prop('Counter',0).animate({\n        Counter: 650\n      }, {\n        duration: 3000,\n        easing: 'swing',\n        step: function (now) {\n          $(this).text(Math.ceil(now) + \" €\");\n        }\n      });\n    }\n\n    $(\".write\").append('<span></span>');\n    if ( App.router.visited() ) {\n        $(\".write span\").css({opacity: '0'})\n          .html(\"Mon budget est de... <br /> \" +\n            \" roulement de tambour... <br />\" +\n            \" ... <br /> \" + \n            ' <span class=\"budget-val\">0</span>'\n          )\n          .animate({opacity: 1}, 200);\n        afterWrite();\n    } else {\n      $(\".write span\").typed({\n        strings: [\"Mon budget est de... <br /> \" +\n            \" ^1000 roulement de tambour... <br />\" +\n            \" ^1000 .^400.^400. <br /> \" + \n            ' ^1000 <span class=\"budget-val\">0</span>'\n          ],\n        typeSpeed: 0.1,\n        callback: afterWrite,\n      });\n    }\n\n  },\n\n  colocation: function () {\n    \n    App.body.html('');\n    var template = require('templates/colocation')();\n    App.body.html(template);\n\n  },\n\n  exit: require('app-exit'),\n\n  notFound: function () {\n    App.body.html('');\n    var template = require('templates/not-found')();\n    App.body.html(template);\n  }\n\n};\n\nvar throttled = _.throttle(App.init, 100);\n$(window).resize(throttled);\n\nApp.init();\n\nmodule.exports = App;\n\n\n","var headerElem = $( require('templates/header')() );\n$('body').prepend( headerElem );\nvar $content = headerElem.find('.content');\nvar links = $content.find('a');\nvar $legend = headerElem.find('.legend');\nvar $legendBox = headerElem.find('.legend-box');\nvar $legendContent = $legend.find('.legend-content');\n\nlinks.hover(function() {\n\t$content.addClass('shadow');\n\tvar title = $(this).attr('title');\n\tvar left = $(this).offset().left + ($(this).width() / 2);\n\t$legendContent.html(title);\n\tvar position = 500 + left;// - ($legendContent.width() / 2);\n\tposition = position < 10 ? 10 : position;\n\t//position = position + $legendContent.width() > ($(window.width) - 10) ? $(window.width) - 10 - $legendContent.width() : position;\n\t$legend.css('margin-left', position );\n\t$legendBox.removeClass('hidden');\n}, function() {\n\t$content.removeClass('shadow');\n\t$legendBox.addClass('hidden');\n});\n\n// var throttled = _.throttle(function (event) {\n// \tvar position = event.clientX / $(window).width();\n// \t$content.css({\n// \t\tmarginLeft: \"-\" + position*10 + \"em\" ,\n// \t\tmarginRight: \"-\" + (1-position)*10 + \"em\"\n// \t});\n// }, 1000/30);\n// headerElem.mousemove(function (event) {\n// \tvar mouseEvent = event;\n// \tthrottled(mouseEvent);\n// });\n\nmodule.exports = function (ctx, next) {\n\tvar path = ctx.pathname.slice(1);\n\tif (path.length == 0) { path = \"home\" };\n    var camelCased = path.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n\n    links.removeClass('active');\n    links.each(function(index, el) {\n    \tif (ctx.pathname == $(el).attr('href') ) {\n    \t\t$(el).addClass('active');\n    \t};\n    });\n\n\tif ( !_.contains(['welcom', 'home'], camelCased) ) {\n\t\theaderElem.removeClass('hidden');\n\t} else {\n\t\theaderElem.addClass('hidden');\n\t}\n\n\tnext();\n}","module.exports = [{\n    \"featureType\": \"administrative\",\n    \"elementType\": \"all\",\n    \"stylers\": [{\n        \"visibility\": \"on\"\n    }, {\n        \"lightness\": 33\n    }]\n}, {\n    \"featureType\": \"administrative\",\n    \"elementType\": \"labels\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"administrative\",\n    \"elementType\": \"labels.text\",\n    \"stylers\": [{\n        \"gamma\": \"0.75\"\n    }]\n}, {\n    \"featureType\": \"administrative.neighborhood\",\n    \"elementType\": \"labels.text.fill\",\n    \"stylers\": [{\n        \"lightness\": \"-37\"\n    }]\n}, {\n    \"featureType\": \"landscape\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"color\": \"#f9f9f9\"\n    }]\n}, {\n    \"featureType\": \"landscape.man_made\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"40\"\n    }, {\n        \"visibility\": \"off\"\n    }]\n}, {\n    \"featureType\": \"landscape.natural\",\n    \"elementType\": \"labels.text.fill\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"-37\"\n    }]\n}, {\n    \"featureType\": \"landscape.natural\",\n    \"elementType\": \"labels.text.stroke\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"100\"\n    }, {\n        \"weight\": \"2\"\n    }]\n}, {\n    \"featureType\": \"landscape.natural\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"poi\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"80\"\n    }]\n}, {\n    \"featureType\": \"poi\",\n    \"elementType\": \"labels\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"0\"\n    }]\n}, {\n    \"featureType\": \"poi.attraction\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"lightness\": \"-4\"\n    }, {\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"poi.park\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"color\": \"#c5dac6\"\n    }, {\n        \"visibility\": \"on\"\n    }, {\n        \"saturation\": \"-95\"\n    }, {\n        \"lightness\": \"62\"\n    }]\n}, {\n    \"featureType\": \"poi.park\",\n    \"elementType\": \"labels\",\n    \"stylers\": [{\n        \"visibility\": \"on\"\n    }, {\n        \"lightness\": 20\n    }]\n}, {\n    \"featureType\": \"road\",\n    \"elementType\": \"all\",\n    \"stylers\": [{\n        \"lightness\": 20\n    }]\n}, {\n    \"featureType\": \"road\",\n    \"elementType\": \"labels\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"gamma\": \"1.00\"\n    }]\n}, {\n    \"featureType\": \"road\",\n    \"elementType\": \"labels.text\",\n    \"stylers\": [{\n        \"gamma\": \"0.50\"\n    }]\n}, {\n    \"featureType\": \"road\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"gamma\": \"0.50\"\n    }]\n}, {\n    \"featureType\": \"road.highway\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"color\": \"#e74c3c\"\n    }, {\n        \"saturation\": \"-30\"\n    }]\n}, {\n    \"featureType\": \"road.highway\",\n    \"elementType\": \"geometry.stroke\",\n    \"stylers\": [{\n        \"lightness\": \"-13\"\n    }]\n}, {\n    \"featureType\": \"road.highway\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [{\n        \"lightness\": \"0\"\n    }, {\n        \"gamma\": \"1.09\"\n    }]\n}, {\n    \"featureType\": \"road.arterial\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"color\": \"#e4d7c6\"\n    }, {\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"47\"\n    }]\n}, {\n    \"featureType\": \"road.arterial\",\n    \"elementType\": \"geometry.stroke\",\n    \"stylers\": [{\n        \"lightness\": \"-12\"\n    }]\n}, {\n    \"featureType\": \"road.arterial\",\n    \"elementType\": \"labels.icon\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"road.local\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"color\": \"#fbfaf7\"\n    }, {\n        \"lightness\": \"77\"\n    }]\n}, {\n    \"featureType\": \"road.local\",\n    \"elementType\": \"geometry.fill\",\n    \"stylers\": [{\n        \"lightness\": \"-5\"\n    }, {\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"road.local\",\n    \"elementType\": \"geometry.stroke\",\n    \"stylers\": [{\n        \"saturation\": \"-100\"\n    }, {\n        \"lightness\": \"-15\"\n    }]\n}, {\n    \"featureType\": \"transit.station.airport\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"lightness\": \"47\"\n    }, {\n        \"saturation\": \"-100\"\n    }]\n}, {\n    \"featureType\": \"water\",\n    \"elementType\": \"all\",\n    \"stylers\": [{\n        \"visibility\": \"on\"\n    }, {\n        \"color\": \"#B4C6D5\"\n    }]\n}, {\n    \"featureType\": \"water\",\n    \"elementType\": \"geometry\",\n    \"stylers\": [{\n        \"saturation\": \"53\"\n    }]\n}, {\n    \"featureType\": \"water\",\n    \"elementType\": \"labels.text.fill\",\n    \"stylers\": [{\n        \"lightness\": \"-42\"\n    }, {\n        \"saturation\": \"17\"\n    }]\n}, {\n    \"featureType\": \"water\",\n    \"elementType\": \"labels.text.stroke\",\n    \"stylers\": [{\n        \"lightness\": \"61\"\n    }]\n}];","'use strict';\n\nvar page = require('page');\nvar App = require('application');\nvar displayHeader = require('display-header');\n\nvar Router = function (destination) {\n\tif (destination == undefined) {\n\t\treturn Router.init();\n\t} else {\n\t\treturn page(destination);\n\t}\n};\n\nRouter.visitedList = [];\nRouter.current = '/init';\n\nfunction visit (ctx, next) {\n    if ( _.contains(Router.visitedList, Router.current) == false ) {\n        Router.visitedList.push(Router.current);\n    }\n    Router.current = ctx.pathname;\n    // Save in cookie\n    Cookies.set('visited', JSON.stringify(Router.visitedList) );\n    next();\n}\n\nfunction router (ctx, next) {\n    var path = ctx.pathname.slice(1).replace(/^recherche-appart-2015/, '');\n    var camelCased = path.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n    if ( _.isFunction(App[camelCased]) ) {\n        App[camelCased]();\n    } else {\n        App.notFound();\n        console.error('404 NOT FOUND :/');\n    }\n}\n\nfunction exitRouter (ctx, next) {\n\n    $('html, body').animate({scrollTop: 0}, 400);\n    \n    var path = ctx.pathname.slice(1);\n    var camelCased = path.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n    if ( _.isFunction(App.exit[camelCased]) ) {\n        App.exit[camelCased](ctx, next);\n    } else {\n        App.exit.defaut(ctx, next);\n    }\n}\n\nRouter.init = function () {\n\n    var cookie = Cookies.get('visited');\n    if (cookie !== undefined) {\n        Router.visitedList = JSON.parse(cookie);\n    }\n\n    App.router = require('router');\n\n    // Deploy on gh-pages\n    page.base('/public');\n\n    page('/', visit, displayHeader, App.displayPlayButton);\n    page('*', visit, displayHeader, router);\n\n    page.exit('/', App.exit.home);\n    page.exit('*', exitRouter);\n\n\tpage();\n\n};\n\nRouter.visited = function () {\n    return _.contains(Router.visitedList, page.current);\n}\n\n\n\nmodule.exports = Router;\n\n","\"use strict\";\n\nmodule.exports = {\n\thideAnimation: function (callback) {\n\t\tvar $anims = $('.anim');\n\t\tvar step = 600 / $anims.length;\n\t\t$anims.each(function(index, el) {\n          $(el).css({\n            transform: 'translateY(-' + (600 - (index * step)) + 'px)',\n            opacity: 0\n          });\n        });\n        if (callback == undefined) { return true; };\n        _.delay(function () {\n        \tcallback();\n        }, 600);\n\t},\n\tshowAndScroll: function (selector) {\n\t\tvar timer = 400;\n\t\t$(selector).css('display', 'block');\n\t\t$(selector).each(function(index, el) {\n\t\t\t_.delay(function(){ $(el).css('transform', 'translate(0)').css('opacity', '1'); }, timer);\n\t\t\ttimer += 100;\n\t\t});\n\n\t\tvar App = require('application');\n\t\tif ( !App.router.visited() ) {\n\t\t\t_.delay(function(){ $('html, body').animate( { scrollTop: $(document).height() - $(window).height() }, 500 ); }, 500);\n\t\t}\n\t},\n\tscrollTo: function (selector) {\n\t\tvar App = require('application');\n\t\tif (App.router.visited()) { return true; }\n\n\t\tvar $elem = $(selector).first();\n\t\tvar height = $elem.height();\n\t\tvar diff = 0;\n\t\tif (height < $(window).height() ) {\n\t\t\tvar diff = ($(window).height() - height)/2;\n\t\t}\n\t\t$('html, body').animate( { scrollTop: $(selector).first().offset().top - diff }, 500 );\n\t},\n\tdisplayNextButton: function (callback) {\n\t\tvar App = require('application');\n\t\tif (App.router.visited()) {\n\t\t\tcallback();\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction onNextClick () {\n\t\t\thtml.off('click', onNextClick);\n\t\t\thtml.addClass('hidden');\n\t\t\tcallback();\n\t\t}\n\t\tvar html = $('.next-button');\n\t\tif (html.length == 0) {\n\t\t\tvar html = $(require('templates/next-button')() );\n\t\t\t$('body').append(html);\n\t\t};\n\t\t_.delay(function () { html.removeClass('hidden'); }, 500)\n    \thtml.on('click', onNextClick);\n\t}\n\n\n}","\nmodule.exports = function () {\n  var App = require('application');\n  var tools = require('tools'); \n    \n  App.body.html('');\n  var template = require('templates/where')();\n  App.body.html(template);\n\n  var map = new google.maps.Map(document.getElementById('map'), {\n    center: {lat: 48.8506834, lng: 2.3647038},\n    zoom: 13,\n    scaleControl: true,\n    scrollwheel: false,\n    styles: require('map-style')\n  });\n\n  // Info\n  var infowindowRea = new google.maps.InfoWindow({\n    content: ''+\n    '<div class=\"content info-content\">'+\n      '<div class=\"siteNotice\">'+\n      '</div>'+\n      '<h1 class=\"firstHeading\" class=\"firstHeading\">Realytics</h1>'+\n      '<div class=\"bodyContent\">'+\n        '<p>Entreprise Realytics</p>'+\n      '</div>'+\n    '</div>'\n  });\n  var markerRea = new google.maps.Marker({\n    position: {lat: 48.87223, lng: 2.3571991},\n    map: map,\n    title: 'Realytics'\n  });\n  markerRea.addListener('click', function() {\n    infowindowGob.close();\n    infowindowSearch.close();\n    infowindowRea.open(map, markerRea);\n  });\n\n  var infowindowGob = new google.maps.InfoWindow({\n    content: ''+\n    '<div class=\"content info-content\">'+\n      '<div class=\"siteNotice\">'+\n      '</div>'+\n      '<h1 class=\"firstHeading\" class=\"firstHeading\">Gobelins</h1>'+\n      '<div class=\"bodyContent\">'+\n        '<p>Ecole des Gobelins</p>'+\n      '</div>'+\n    '</div>'\n  });\n  var markerGob = new google.maps.Marker({\n    position: {lat: 48.8372215, lng: 2.3536464},\n    map: map,\n    title: 'Realytics'\n  });\n  markerGob.addListener('click', function() {\n    infowindowRea.close();\n    infowindowSearch.close();\n    infowindowGob.open(map, markerGob);\n  });\n\n  var infowindowSearch = new google.maps.InfoWindow({\n    content: ''+\n    '<div class=\"content info-content\">'+\n      '<div class=\"siteNotice\">'+\n      '</div>'+\n      '<h1 class=\"firstHeading\" class=\"firstHeading\">Zone de recherche</h1>'+\n    '</div>'\n  });\n  var searchAreaData = [\n    { lat: 48.838057227865434, lng: 2.3095321655273438},\n    { lat: 48.82404503886193, lng: 2.3102188110351562},\n    //{ lat: 48.81635927146624, lng: 2.3198318481445312},\n    { lat: 48.81703747481908, lng: 2.35107421875},\n    { lat: 48.81816779335053, lng: 2.3706436157226562},\n    { lat: 48.8254012284184, lng: 2.385406494140625},\n    { lat: 48.83082561964202, lng: 2.3994827270507812},\n    { lat: 48.84460997116043, lng: 2.4022293090820312},\n    { lat: 48.859519915404825, lng: 2.3981094360351562},\n    { lat: 48.86223033731979, lng: 2.3778533935546875},\n    { lat: 48.860423405685076, lng: 2.3613739013671875},\n    { lat: 48.86110101269274, lng: 2.3311614990234375},\n    { lat: 48.8565834593617, lng: 2.31536865234375}\n  ];\n  var searchArea = new google.maps.Polygon({\n    paths: searchAreaData,\n    strokeColor: '#FF0000',\n    strokeOpacity: 0.5,\n    strokeWeight: 2,\n    fillColor: '#FF0000',\n    fillOpacity: 0.1\n  });\n  searchArea.setMap(map);\n  searchArea.addListener('click', function(event) {\n    infowindowGob.close();\n    infowindowRea.close();\n    var lat = event.latLng.lat();\n    var lng = event.latLng.lng();\n    infowindowSearch.setPosition({lat: lat, lng: lng});\n    infowindowSearch.open(map);\n  });\n\n  function afterWrite() {\n    $('.typed-cursor').remove();\n\n    $('.map-group').addClass('open');\n\n    _.delay(function () {\n      \n    }, 1500);\n\n    tools.displayNextButton(function () {\n      tools.scrollTo('.map-group');\n\n      tools.displayNextButton(function () {\n        \n        tools.showAndScroll('.answer');\n\n      });\n    });\n\n  };\n\n  $(\".write\").append('<span></span>');\n  if ( App.router.visited() ) {\n      $(\".write span\").css({opacity: '0'})\n        .html(\"Je serai en alternance, je cherche donc <br/> un logement proche de l'école <br />mais pas trop loin de l'entreprise.\")\n        .animate({opacity: 1}, 200);\n      afterWrite();\n  } else {\n    $(\".write span\").typed({\n      strings: [\"Je serai en alternance, ^500je cherche donc <br/> un logement proche de l'école <br />mais pas trop loin de l'entreprise.\"],\n      typeSpeed: 0.1,\n      callback: afterWrite,\n    });\n  }\n\n};"]}